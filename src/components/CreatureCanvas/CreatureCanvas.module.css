.container{
  display: flex;
  flex-direction: column;
  align-items: center; /* Center all children horizontally */
  gap: 3.6px; /* Reduced from 7.2px to bring things closer */
  width: 100%; /* Fill parent (specimenRow) completely to match dialRow */
  max-width: 100%; /* Don't exceed parent */
  min-width: 0; /* Allow flex shrinking */
  margin: 0; /* No margin - fill parent */
  box-sizing: border-box;
  overflow: hidden; /* Clip to container */
  position: relative; /* Ensure stable positioning */
  padding: 0; /* No padding to match dialRow outer width */
  flex-shrink: 0; /* Prevent shrinking */
  flex-grow: 0; /* Prevent growing */
}
.infoBar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-direction: row;
  gap: 9px;
  width: 100%;
  max-width: 100%;
  min-width: 0; /* Prevent expansion */
  margin-bottom: 3.6px; /* Reduced from 7.2px to bring knob controls up */
  box-sizing: border-box;
  flex-shrink: 0; /* Prevent shrinking */
}

.potSection {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 3.6px;
  padding: 10.8px 9px;
  background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 193, 7, 0.1));
  border-radius: var(--radius);
  border: 1px solid rgba(255, 215, 0, 0.4);
  box-shadow: 0 0 12px rgba(255, 215, 0, 0.3), inset 0 0 8px rgba(255, 215, 0, 0.1);
  flex: 0 0 30%; /* 30% width */
  min-width: 0;
  max-width: 30%; /* Prevent expansion */
  overflow: hidden; /* Clip content that might expand */
}

.infoBar .headerCenter {
  flex: 1; /* 40% placeholder in center */
  min-width: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.timerSection {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 3.6px;
  padding: 10.8px 9px;
  background: rgba(255, 255, 255, 0.02);
  border-radius: var(--radius);
  border: 1px solid rgba(255, 255, 255, 0.05);
  flex: 0 0 30%; /* 30% width on right */
  min-width: 0;
  max-width: 30%; /* Prevent expansion */
  overflow: hidden; /* Clip content that might expand */
  text-overflow: ellipsis;
}

.timerLabel {
  font-size: 10.8px;
  color: var(--muted);
  text-align: center;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.timerValue {
  font-size: 18px;
  color: var(--text);
  text-align: center;
  font-weight: 700;
}

.titleText {
  font-size: 17.28px; /* Scaled by 0.8 from 21.6px */
  font-weight: 900;
  letter-spacing: 1.44px; /* Scaled by 0.8 from 1.8px */
  color: var(--gold);
  text-transform: uppercase;
  margin: 0;
  text-align: center;
}

.potLabel {
  font-size: 10.8px;
  color: rgba(255, 215, 0, 0.9);
  text-align: center;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  text-shadow: 0 0 8px rgba(255, 215, 0, 0.5);
}

.potValue {
  font-size: 18px;
  color: #FFD700;
  text-align: center;
  font-weight: 700;
  text-shadow: 0 0 12px rgba(255, 215, 0, 0.8), 0 2px 4px rgba(0, 0, 0, 0.3);
  white-space: nowrap; /* Prevent wrapping that could change width */
  overflow: hidden; /* Clip if too long */
  text-overflow: ellipsis; /* Show ellipsis if too long */
  width: 100%; /* Take full width of parent */
  max-width: 100%; /* Don't exceed parent */
}

.targetSection {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 3.6px;
  padding: 10.8px 9px;
  background: rgba(255, 255, 255, 0.02);
  border-radius: var(--radius);
  border: 1px solid rgba(255, 255, 255, 0.05);
  flex: 0 0 30%; /* 30% width on right */
  min-width: 0;
}

.targetSection .targetLabel {
  font-size: 10.8px;
  color: var(--muted);
  text-align: center;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.targetSection .targetValue {
  font-size: 18px;
  color: var(--accent);
  text-align: center;
  font-weight: 700;
}

.timerDanger {
  color: #e87474;
  animation: blink 0.8s steps(2, start) infinite;
}

@keyframes blink {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.header{ 
  display:flex; 
  align-items:center; 
  justify-content:space-between; 
  flex-direction: row;
  gap: 4.5px; /* Reduced from 9px to bring things closer */
  width: 100%;
}

.headerLeft {
  flex: 0 0 30%; /* 30% width */
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: center;
  gap: 3.6px;
  min-height: 48px;
}

.headerCenter {
  flex: 1; /* 40% placeholder in center */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 3.6px;
  text-align: center;
}

.headerRight {
  flex: 0 0 30%; /* 30% width */
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-content: center;
  gap: 3.6px;
  min-height: 48px;
}


.resonanceDisplay {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 3.6px;
  padding: 10.8px 9px;
  background: rgba(255, 255, 255, 0.02);
  border-radius: var(--radius);
  border: 1px solid rgba(255, 255, 255, 0.05);
  width: 100%;
  min-width: 0;
}

.currentLabel {
  font-size: 10.8px;
  color: var(--muted);
  text-align: center;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.resonanceValue {
  font-size: 18px;
  color: var(--accent);
  text-align: center;
  font-weight: 700;
}

.resonanceAbove .resonanceValue {
  color: #ff4444; /* Red when above target */
}

.resonanceBelow .resonanceValue {
  color: #ffd700; /* Gold when below target */
}
.sizeControl{
  display: flex;
  flex-direction: column;
  gap: 3.6px;
  align-items: center;
}
.sizeLabel{
  font-size: 11.7px;
  color: var(--muted);
  font-weight: 500;
}
.sizeSlider{
  width: 100%;
  max-width: 200px;
  height: 4px;
  border-radius: 2px;
  background: var(--panel);
  outline: none;
  -webkit-appearance: none;
  appearance: none;
}
.sizeSlider::-webkit-slider-thumb{
  -webkit-appearance: none;
  appearance: none;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: var(--text);
  cursor: pointer;
}
.sizeSlider::-moz-range-thumb{
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: var(--text);
  cursor: pointer;
  border: none;
}
.panel{
  background:var(--panel);
  border-radius:var(--radius);
  border-bottom-left-radius: 0; /* Remove bottom border radius to connect seamlessly */
  border-bottom-right-radius: 0;
  box-shadow: 0 10px 30px rgba(0,0,0,.35); /* Standard shadow */
  padding:10.8px;
  padding-bottom: 20px; /* Add bottom padding to show more of the jug bottom */
  display:flex;
  flex-direction:column;
  gap:3.6px; /* Reduced from 7.2px to bring things closer */
  height: 605px; /* Increased by 10% from 550px for desktop */
  width: 100%; /* Fill container completely to match dialRow */
  max-width: 100%; /* Don't exceed container */
  min-width: 100%; /* Force to match container width exactly */
  min-height: 288px;
  position: relative;
  margin: 0; /* Remove auto margin to fill container */
  flex-shrink: 0; /* Prevent shrinking */
  flex-grow: 0; /* Prevent growing */
  background-image: url('/jug2.png');
  background-size: min(102%, 750px) 115%; /* Cap at 750px max width, height 115% (reduced by 5% from 120%) */
  background-position: center top; /* Keep top aligned, allow bottom and sides to overflow */
  background-repeat: no-repeat;
  overflow: hidden; /* Prevent content from causing layout shifts */
  box-sizing: border-box; /* Include padding in width calculation */
}

.frequencyTopLeft {
  position: absolute;
  top: 10.8px;
  left: 10.8px;
  z-index: 10; /* Above canvas */
  pointer-events: none; /* Allow clicks to pass through to canvas */
  display: flex;
  flex-direction: column;
  gap: 7.2px; /* Space between Target and Specimen */
}

.frequencyTopLeft .targetSection {
  pointer-events: auto; /* Re-enable pointer events for the section */
}

.frequencyTopLeft .resonanceDisplay {
  pointer-events: auto; /* Re-enable pointer events for the section */
}

.frequencyTopRight {
  position: absolute;
  top: 10.8px;
  right: 10.8px;
  z-index: 10; /* Above canvas */
  pointer-events: none; /* Allow clicks to pass through to canvas */
  display: flex;
  flex-direction: column;
  gap: 7.2px; /* Space between Closest and Current */
}

.frequencyTopRight .resonanceDisplay {
  pointer-events: auto; /* Re-enable pointer events for the section */
}

.cathodeBottom {
  position: absolute;
  bottom: 0;
  left: max(10.8px, calc(50% - 375px)); /* Position at jug2 left edge: center (50%) minus half max jug width (375px), but never less than padding */
  z-index: 1000; /* Highest z-index to be on top of everything */
  pointer-events: none; /* Allow clicks to pass through */
  display: block;
  width: auto;
  height: auto;
  transform: scale(0.1); /* Scale down to 10% of original size */
  transform-origin: bottom left; /* Scale from bottom left corner */
}

.cathodeBottomRight {
  position: absolute;
  bottom: 0;
  left: 50%; /* Center horizontally */
  z-index: 1000; /* Highest z-index to be on top of everything */
  pointer-events: none; /* Allow clicks to pass through */
  display: block;
  width: auto;
  height: auto;
  transform: scale(0.1) translateX(-50%) scaleX(-1); /* Scale down to 10%, center horizontally, and flip horizontally */
  transform-origin: bottom center; /* Scale from bottom center */
}

.canvas{
  width:100%;
  height:100%;
  border-radius:var(--radius);
  display:block;
  background: transparent;
  position: absolute; /* Absolute positioning to prevent layout shifts */
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  pointer-events: none; /* Prevent canvas from affecting layout */
  max-width: 100%; /* Prevent overflow */
  max-height: 100%; /* Prevent overflow */
  box-sizing: border-box;
}

/* Mobile responsive - scale down but maintain structure */
@media (max-width: 768px) {
  .container {
    width: 100%; /* Fill parent (specimenRow) completely to match dialRow */
    max-width: 100%; /* Don't exceed parent */
    gap: 4.5px;
    margin: 0; /* No margin - fill parent */
    position: relative; /* Ensure stable positioning */
    min-width: 0; /* Prevent expansion */
    flex-shrink: 0; /* Prevent shrinking */
  }
  .infoBar {
    gap: 4.5px; /* Scaled down gap */
    margin-bottom: 3.6px; /* Scaled down margin */
    flex-wrap: nowrap; /* Prevent wrapping */
  }
  .potSection {
    padding: 7.56px 6.3px; /* Scaled down padding to match targetSection */
    flex: 0 0 30%; /* 30% width */
    min-width: 0; /* Allow flex shrinking */
  }
  .potLabel {
    font-size: 7.56px; /* Scaled down (10.8 * 0.7) to match targetLabel */
  }
  .potValue {
    font-size: 12.6px; /* Scaled down (18 * 0.7) to match targetValue */
  }
  .infoBar .headerCenter {
    flex: 1; /* 40% placeholder */
  }
  .titleText {
    font-size: 14.4px; /* Scaled by 0.8 from 18px */
    letter-spacing: 1.08px; /* Scaled by 0.8 from 1.35px */
  }
  .targetSection {
    padding: 7.56px 6.3px; /* Scaled down padding */
    flex: 0 0 30%; /* 30% width */
    min-width: 0;
  }
  .targetSection .targetLabel {
    font-size: 7.56px; /* Scaled down (10.8 * 0.7) */
  }
  .targetSection .targetValue {
    font-size: 12.6px; /* Scaled down (18 * 0.7) */
  }
  .timerSection {
    padding: 7.56px 6.3px; /* Scaled down padding to match targetSection */
    flex: 0 0 30%; /* 30% width */
    min-width: 0; /* Allow flex shrinking */
  }
  .timerLabel {
    font-size: 7.56px; /* Scaled down (10.8 * 0.7) to match targetLabel */
  }
  .timerValue {
    font-size: 12.6px; /* Scaled down (18 * 0.7) to match targetValue */
  }
  .header {
    gap: 3.6px;
    font-size: 0.75em; /* Scale down font sizes more */
  }
  .headerLeft {
    flex: 0 0 30%; /* 30% width */
    min-height: 26px;
  }
  .headerCenter {
    flex: 1; /* 40% placeholder */
  }
  .headerRight {
    flex: 0 0 30%; /* 30% width */
    min-height: 26px;
  }
  .resonanceDisplay {
    padding: 7.56px 6.3px; /* Scaled down padding to match targetSection */
  }
  .currentLabel {
    font-size: 7.56px; /* Scaled down (10.8 * 0.7) to match targetLabel */
  }
  .resonanceValue {
    font-size: 12.6px; /* Scaled down (18 * 0.7) to match targetValue */
  }
  .panel {
    padding: 4.5px 4.5px 12px 4.5px; /* Add bottom padding to show more of jug stand */
    height: 440px; /* Increased from 370px to reduce squished feeling */
    width: 100%; /* Use 100% to match container width - prevent panning */
    max-width: 100%; /* Don't exceed container */
    min-width: 0; /* Prevent expansion */
    border-bottom-left-radius: 0; /* Ensure seamless connection on mobile */
    border-bottom-right-radius: 0;
    box-shadow: 0 7px 21px rgba(0,0,0,.35); /* Scaled shadow, no bottom shadow */
    background-size: 106.8% 115%; /* Width: 20% wider, Height: 115% (reduced by 5% from 120%) */
    flex-shrink: 0; /* Prevent shrinking */
    flex-grow: 0; /* Prevent growing */
    overflow: hidden; /* Prevent content from causing layout shifts */
    box-sizing: border-box; /* Include padding in width calculation */
  }
  .frequencyTopLeft {
    top: 4.5px;
    left: 4.5px;
  }
  .frequencyTopRight {
    top: 4.5px;
    right: 4.5px;
  }
  .canvas {
    height: 100%;
    touch-action: none; /* Prevent default touch behaviors */
    position: absolute; /* Absolute positioning to prevent layout shifts */
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    max-width: 100%; /* Prevent overflow */
    max-height: 100%; /* Prevent overflow */
    pointer-events: auto; /* Re-enable for touch */
  }
  .cathodeBottom {
    transform: scale(0.15); /* Scale to 15% on mobile (768px) */
  }
  .cathodeBottomRight {
    left: 50%; /* Center horizontally */
    transform: scale(0.15) translateX(-50%) scaleX(-1); /* Scale to 15%, center horizontally, and flip horizontally on mobile (768px) */
    transform-origin: bottom center; /* Scale from bottom center */
  }
}

@media (max-width: 480px) {
  .container {
    position: relative; /* Ensure stable positioning */
    min-width: 0; /* Prevent expansion */
    flex-shrink: 0; /* Prevent shrinking */
    width: 100%; /* Fill parent (specimenRow) completely to match dialRow */
    max-width: 100%; /* Don't exceed parent */
    gap: 3.6px;
    margin: 0; /* No margin - fill parent */
  }
  .infoBar {
    gap: 3.6px; /* Scaled down gap */
    margin-bottom: 2.7px; /* Scaled down margin */
    flex-wrap: nowrap; /* Prevent wrapping */
  }
  .potSection {
    padding: 6.48px 5.4px; /* Scaled down padding to match targetSection */
    flex: 0 0 30%; /* 30% width */
    min-width: 0; /* Allow flex shrinking */
  }
  .potLabel {
    font-size: 6.48px; /* Scaled down (10.8 * 0.6) to match targetLabel */
  }
  .potValue {
    font-size: 10.8px; /* Scaled down (18 * 0.6) to match targetValue */
  }
  .infoBar .headerCenter {
    flex: 1; /* 40% placeholder */
  }
  .titleText {
    font-size: 12.96px; /* Scaled by 0.8 from 16.2px */
    letter-spacing: 0.72px; /* Scaled by 0.8 from 0.9px */
  }
  .targetSection {
    padding: 6.48px 5.4px; /* Scaled down padding */
    flex: 0 0 30%; /* 30% width */
    min-width: 0;
  }
  .targetSection .targetLabel {
    font-size: 6.48px; /* Scaled down (10.8 * 0.6) */
  }
  .targetSection .targetValue {
    font-size: 10.8px; /* Scaled down (18 * 0.6) */
  }
  .timerSection {
    padding: 6.48px 5.4px; /* Scaled down padding to match targetSection */
    flex: 0 0 30%; /* 30% width */
    min-width: 0; /* Allow flex shrinking */
  }
  .timerLabel {
    font-size: 6.48px; /* Scaled down (10.8 * 0.6) to match targetLabel */
  }
  .timerValue {
    font-size: 10.8px; /* Scaled down (18 * 0.6) to match targetValue */
  }
  .header {
    gap: 2.7px;
    font-size: 0.65em; /* Scale down font sizes even more */
  }
  .headerLeft {
    flex: 0 0 30%; /* 30% width */
    min-height: 22px;
  }
  .headerCenter {
    flex: 1; /* 40% placeholder */
  }
  .headerRight {
    flex: 0 0 30%; /* 30% width */
    min-height: 22px;
  }
  .resonanceDisplay {
    padding: 6.48px 5.4px; /* Scaled down padding to match targetSection */
  }
  .currentLabel {
    font-size: 6.48px; /* Scaled down (10.8 * 0.6) to match targetLabel */
  }
  .resonanceValue {
    font-size: 10.8px; /* Scaled down (18 * 0.6) to match targetValue */
  }
  .panel {
    padding: 3.6px 3.6px 10px 3.6px; /* Add bottom padding to show more of jug stand */
    height: 380px; /* Increased from 320px to reduce squished feeling */
    width: 100%; /* Use 100% to match container width - prevent panning */
    max-width: 100%; /* Don't exceed container */
    min-width: 0; /* Prevent expansion */
    border-bottom-left-radius: 0; /* Ensure seamless connection on mobile */
    border-bottom-right-radius: 0;
    box-shadow: 0 6px 18px rgba(0,0,0,.35); /* Scaled shadow, no bottom shadow */
    background-size: 106.8% 115%; /* Width: 20% wider, Height: 115% (reduced by 5% from 120%) */
    flex-shrink: 0; /* Prevent shrinking */
    flex-grow: 0; /* Prevent growing */
    overflow: hidden; /* Prevent content from causing layout shifts */
    box-sizing: border-box; /* Include padding in width calculation */
  }
  .frequencyTopLeft {
    top: 3.6px;
    left: 3.6px;
  }
  .frequencyTopRight {
    top: 3.6px;
    right: 3.6px;
  }
  .canvas {
    touch-action: none; /* Prevent default touch behaviors */
    position: absolute; /* Absolute positioning to prevent layout shifts */
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    max-width: 100%; /* Prevent overflow */
    max-height: 100%; /* Prevent overflow */
    pointer-events: auto; /* Re-enable for touch */
  }
  .cathodeBottom {
    transform: scale(0.15); /* Scale to 15% on mobile (480px) */
  }
  .cathodeBottomRight {
    left: 50%; /* Center horizontally */
    transform: scale(0.15) translateX(-50%) scaleX(-1); /* Scale to 15%, center horizontally, and flip horizontally on mobile (480px) */
    transform-origin: bottom center; /* Scale from bottom center */
  }
}

